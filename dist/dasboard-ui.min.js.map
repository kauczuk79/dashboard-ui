{"version":3,"sources":["dasboard-ui.min.js"],"names":["angular","module","d3","AlphanumericLcdDirective","link","scope","element","attrs","updateLines","lineNumber","rows","undefined","lines","select","selectAll","data","text","d","substring","columns","parseInt","scale","parseFloat","lineIterator","fontWidth","fontHeight","width","height","svg","append","attr","$watch","restrict","background","directive","window","AnalogGaugeDirective","updateGaugeAngle","value","minValue","angle","startAngle","maxValue","endAngle","deltaAngle","Math","abs","deltaValue","indicator","style","indicatorOriginX","indicatorOriginY","indicatorBoundingBox","node","getBBox","x","y","FourteenSegmentDisplayDirective","iterator","digits","showBackground","template","SevenSegmentDisplayDirective"],"mappings":"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","file":"dasboard-ui.min.js","sourcesContent":["(function () {\r\n    'use strict';\r\n    /*global angular*/\r\n\r\n    angular.module('dashboard-ui', ['ngRoute', 'dashboard-ui.directives']);\r\n}());\n(function () {\r\n    'use strict';\r\n    /*global angular*/\r\n\r\n    angular.module('dashboard-ui.directives', []);\r\n}());\n(function(d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function AlphanumericLcdDirective() {\r\n        function link(scope, element, attrs) {\r\n            var rows = parseInt(scope.rows, 10) || 2,\r\n                columns = parseInt(scope.columns, 10) || 16,\r\n                scale = parseFloat(scope.scale, 10) || 1.0,\r\n                lines = scope.lines || [],\r\n                lineIterator = 0,\r\n                fontWidth = 12,\r\n                fontHeight = 18,\r\n                width = columns * fontWidth * scale,\r\n                height = rows * fontHeight * scale,\r\n                svg = d3.select(element[0]).append('svg').attr('width', width).attr('height', height);\r\n\r\n            function updateLines() {\r\n                var lineNumber = 0;\r\n                for (; lineNumber < rows; lineNumber += 1) {\r\n                    if (lines[lineNumber] !== undefined) {\r\n                        d3.select(element[0]).selectAll('text').data(lines).text(function(d) {\r\n                            return d.substring(0, columns);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            for (; lineIterator < rows; lineIterator += 1) {\r\n                svg.append('text').attr(\"x\", 0).attr(\"y\", fontHeight * (lineIterator + 1)).attr('transform', 'scale(' + scale + ')');\r\n            }\r\n            updateLines();\r\n            scope.$watch('lines', function() {\r\n                updateLines();\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'AE',\r\n            scope: {\r\n                rows: '@',\r\n                columns: '@',\r\n                scale: '@',\r\n                background: '@',\r\n                lines: '='\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('alphanumericLcd', AlphanumericLcdDirective);\r\n}(window.d3));\n(function(d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function AnalogGaugeDirective() {\r\n        function link(scope, element, attrs) {\r\n            var startAngle = parseInt(scope.startAngle, 10),\r\n                maxValue = parseInt(scope.maxValue, 10),\r\n                endAngle = parseInt(scope.endAngle, 10) || (startAngle * -1),\r\n                minValue = parseInt(scope.minValue, 10) || 0,\r\n                indicator = d3.select(element[0]).select('#indicator'),\r\n                indicatorBoundingBox = indicator.node().getBBox(),\r\n                indicatorOriginX = scope.indicatorOriginX || (indicatorBoundingBox.x + (indicatorBoundingBox.width / 2)),\r\n                indicatorOriginY = scope.indicatorOriginY || (indicatorBoundingBox.y + (indicatorBoundingBox.height / 2)),\r\n                angle,\r\n                deltaAngle = 0,\r\n                deltaValue = maxValue - minValue;\r\n\r\n            function updateGaugeAngle() {\r\n                var value = parseInt(scope.value, 10);\r\n                if (value < minValue) {\r\n                    angle = startAngle;\r\n                } else if (value > maxValue) {\r\n                    angle = endAngle;\r\n                } else {\r\n                    deltaAngle = Math.abs(endAngle - startAngle);\r\n                    if (startAngle < endAngle) {\r\n                        //clockwise\r\n                        angle = startAngle + Math.abs((deltaAngle / deltaValue) * (minValue - value));\r\n                    } else {\r\n                        //counter clockwise\r\n                        angle = startAngle - Math.abs((deltaAngle / deltaValue) * (minValue - value));\r\n                    }\r\n                    indicator.style('transform-origin', indicatorOriginX + 'px ' + indicatorOriginY + 'px');\r\n                    indicator.style('transform', 'rotate(' + angle + 'deg)');\r\n                }\r\n            }\r\n\r\n            scope.$watch('value', function() {\r\n                updateGaugeAngle();\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'E',\r\n            scope: {\r\n                value: '@',\r\n                startAngle: '@',\r\n                endAngle: '@',\r\n                maxValue: '@',\r\n                minValue: '@',\r\n                indicatorOriginX: '@',\r\n                indicatorOriginY: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('analogGauge', AnalogGaugeDirective);\r\n}(window.d3));\n(function () {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function FourteenSegmentDisplayDirective() {\r\n        function link(scope, element, attrs) {\r\n            var digits = scope.digits,\r\n                value = scope.value,\r\n                background = (attrs.showBackground === \"true\"),\r\n                iterator;\r\n            scope.background = '';\r\n            if (background) {\r\n                scope.background = '~';\r\n                for (iterator = 0; iterator < digits - 1; iterator += 1) {\r\n                    scope.background += '.~';\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'E',\r\n            template: '<span class=\"background\">{{background}}</span><span class=\"foreground\">{{value}}</span>',\r\n            scope: {\r\n                digits: '@',\r\n                value: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('fourteenSegmentDisplay', FourteenSegmentDisplayDirective);\r\n}());\n(function () {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function SevenSegmentDisplayDirective() {\r\n        function link(scope, element, attrs) {\r\n            var digits = scope.digits,\r\n                value = scope.value,\r\n                background = (attrs.showBackground === \"true\"),\r\n                iterator;\r\n            scope.background = '';\r\n            if (background) {\r\n                scope.background = '8';\r\n                for (iterator = 0; iterator < digits - 1; iterator += 1) {\r\n                    scope.background += '.8';\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'E',\r\n            template: '<span class=\"background\">{{background}}</span><span class=\"foreground\">{{value}}</span>',\r\n            scope: {\r\n                digits: '@',\r\n                value: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('sevenSegmentDisplay', SevenSegmentDisplayDirective);\r\n}());"],"sourceRoot":"/source/"}