{"version":3,"sources":["dasboard-ui.min.js"],"names":["angular","module","d3","AlphanumericLcdDirective","link","scope","element","attrs","updateLines","lineNumber","rows","undefined","lines","select","selectAll","data","text","d","substring","columns","parseInt","scale","parseFloat","lineIterator","fontHeight","lcdGroup","attr","x","y","rectChar","append","showBackground","background","Array","join","$watch","restrict","directive","window","BarMeterDirective","bar","vertical","originalX","originalY","maxPosition","minPosition","minValue","maxValue","stepWidth","height","width","value","barLength","Math","abs","transition","duration","ease","AnalogGaugeDirective","updateGaugeAngle","angle","startAngle","endAngle","deltaAngle","deltaValue","indicator","style","indicatorOriginX","indicatorOriginY","gaugeGroup","indicatorBoundingBox","node","getBBox","FourteenSegmentDisplayDirective","iterator","digits","opacity","template","SevenSegmentDisplayDirective"],"mappings":"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","file":"dasboard-ui.min.js","sourcesContent":["(function () {\r\n    'use strict';\r\n    /*global angular*/\r\n\r\n    angular.module('dashboard-ui', ['ngRoute', 'dashboard-ui.directives']);\r\n}());\n(function () {\r\n    'use strict';\r\n    /*global angular*/\r\n\r\n    angular.module('dashboard-ui.directives', []);\r\n}());\n(function(d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function AlphanumericLcdDirective() {\r\n        function link(scope, element, attrs) {\r\n            var rows = parseInt(scope.rows, 10) || 2,\r\n                columns = parseInt(scope.columns, 10) || 16,\r\n                scale = parseFloat(scope.scale, 10) || 1.0,\r\n                lineIterator = 0,\r\n                fontHeight = 18,\r\n                lcdGroup = d3.select(element[0]).attr('transform','translate('+attrs.x+', '+attrs.y+')'),\r\n                rectChar = '\\u0B8F';\r\n            function updateLines() {\r\n                var lineNumber = 0;\r\n                for (; lineNumber < rows; lineNumber += 1) {\r\n                    if (scope.lines[lineNumber] !== undefined) {\r\n                        d3.select(element[0]).selectAll('.foreground').data(scope.lines).text(function(d) {\r\n                            return d.substring(0, columns);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            for (; lineIterator < rows; lineIterator += 1) {\r\n                lcdGroup.append('text').attr('class', 'foreground').attr('x', 0).attr('y', fontHeight * (lineIterator + 1)).attr('transform', 'scale(' + scale + ')');\r\n                if(scope.showBackground === 'true') {\r\n                    var background = lcdGroup.append('text').attr('class', 'background').attr('x', 0).attr('y', fontHeight * (lineIterator + 1)).attr('transform', 'scale(' + scale + ')');\r\n                    background.data(rectChar).text(function(d) {\r\n                        return new Array(columns + 1).join(d);\r\n                    });\r\n                }\r\n            }\r\n            updateLines();\r\n            scope.$watch('lines', function() {\r\n                updateLines();\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'C',\r\n            scope: {\r\n                rows: '@',\r\n                columns: '@',\r\n                scale: '@',\r\n                showBackground: '@',\r\n                lines: '='\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('alphanumericLcd', AlphanumericLcdDirective);\r\n}(window.d3));\n(function (d3) {\r\n\t'use strict';\r\n\t/*global angular, console*/\r\n\r\n\tfunction BarMeterDirective() {\r\n\t\tfunction link(scope, element, attrs) {\r\n\t\t\tvar bar = d3.select(element[0]).select('#bar'),\r\n\t\t\t\tvertical = (scope.vertical === 'true') || false,\r\n\t\t\t\toriginalX = parseInt(bar.attr('x')),\r\n\t\t\t\toriginalY = parseInt(bar.attr('y')),\r\n\t\t\t\tmaxPosition = parseInt(scope.maxPosition),\r\n\t\t\t\tminPosition = parseInt(scope.minPosition),\r\n\t\t\t\tminValue = parseInt(scope.minValue),\r\n\t\t\t\tmaxValue = parseInt(scope.maxValue),\r\n\t\t\t\tstepWidth = ((maxPosition - minPosition) / (maxValue - minValue));\r\n\t\t\tscope.$watch('value', function () {\r\n\t\t\t\tvar value = parseInt(scope.value),\r\n\t\t\t\t\tbarLength = Math.abs(stepWidth * value),\r\n\t\t\t\t\tx, y, height, width;\r\n\t\t\t\tif (vertical) {\r\n\t\t\t\t\tif (value >= 0 && value <= maxValue) {\r\n\t\t\t\t\t\ty = originalY - barLength;\r\n\t\t\t\t\t\theight = barLength;\r\n\t\t\t\t\t} else if (value < 0 && value >= minValue) {\r\n\t\t\t\t\t\ty = originalY;\r\n\t\t\t\t\t\theight = barLength;\r\n\t\t\t\t\t} else if (value > maxValue) {\r\n\t\t\t\t\t\ty = maxPosition;\r\n\t\t\t\t\t\theight = Math.abs(stepWidth * maxValue);\r\n\t\t\t\t\t} else if (value < minValue) {\r\n\t\t\t\t\t\ty = originalY;\r\n\t\t\t\t\t\theight = stepWidth * minValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbar.transition().duration(250).ease('linear').attr('y', y).attr('height', height);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (value >= 0 && value <= maxValue) {\r\n\t\t\t\t\t\tx = originalX;\r\n\t\t\t\t\t\twidth = barLength;\r\n\t\t\t\t\t} else if (value < 0 && value >= minValue) {\r\n\t\t\t\t\t\tx = originalX - barLength;\r\n\t\t\t\t\t\twidth = barLength;\r\n\t\t\t\t\t} else if (value > maxValue) {\r\n\t\t\t\t\t\tx = originalX;\r\n\t\t\t\t\t\twidth = stepWidth * maxValue;\r\n\t\t\t\t\t} else if (value < minValue) {\r\n\t\t\t\t\t\tx = minPosition;\r\n\t\t\t\t\t\twidth = Math.abs(stepWidth * minValue);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbar.transition().duration(250).ease('linear').attr('x', x).attr('width', width);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tlink: link,\r\n\t\t\trestrict: 'C',\r\n\t\t\tscope: {\r\n\t\t\t\tminValue: '@',\r\n\t\t\t\tmaxValue: '@',\r\n\t\t\t\tminPosition: '@',\r\n\t\t\t\tmaxPosition: '@',\r\n\t\t\t\tvalue: '@',\r\n\t\t\t\tvertical: '@'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tangular\r\n\t\t.module('dashboard-ui.directives')\r\n\t\t.directive('barMeter', BarMeterDirective);\r\n} (window.d3));\n(function (d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function AnalogGaugeDirective() {\r\n        function link(scope, element, attrs) {\r\n            var startAngle = parseInt(scope.startAngle, 10),\r\n                maxValue = parseInt(scope.maxValue, 10),\r\n                endAngle = parseInt(scope.endAngle, 10) || (startAngle * -1),\r\n                minValue = parseInt(scope.minValue, 10) || 0,\r\n                gaugeGroup = d3.select(element[0]),\r\n                indicator = gaugeGroup.select('#indicator'),\r\n                indicatorBoundingBox = indicator.node().getBBox(),\r\n                indicatorOriginX = scope.indicatorOriginX || (indicatorBoundingBox.x + (indicatorBoundingBox.width / 2)),\r\n                indicatorOriginY = scope.indicatorOriginY || (indicatorBoundingBox.y + (indicatorBoundingBox.height / 2)),\r\n                angle,\r\n                deltaAngle = 0,\r\n                deltaValue = maxValue - minValue;\r\n\r\n            function updateGaugeAngle() {\r\n                var value = parseInt(scope.value, 10);\r\n                if (value < minValue) {\r\n                    angle = startAngle;\r\n                } else if (value > maxValue) {\r\n                    angle = endAngle;\r\n                } else {\r\n                    deltaAngle = Math.abs(endAngle - startAngle);\r\n                    if (startAngle < endAngle) {\r\n                        //clockwise\r\n                        angle = startAngle + Math.abs((deltaAngle / deltaValue) * (minValue - value));\r\n                    } else {\r\n                        //counter clockwise\r\n                        angle = startAngle - Math.abs((deltaAngle / deltaValue) * (minValue - value));\r\n                    }\r\n                    indicator.style('transform-origin', indicatorOriginX + 'px ' + indicatorOriginY + 'px');\r\n                    indicator.style('transform', 'rotate(' + angle + 'deg)');\r\n                }\r\n            }\r\n            gaugeGroup.attr('transform', 'translate(' + attrs.x + ',' + attrs.y + ')');\r\n            scope.$watch('value', function () {\r\n                updateGaugeAngle();\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'C',\r\n            scope: {\r\n                value: '@',\r\n                startAngle: '@',\r\n                endAngle: '@',\r\n                maxValue: '@',\r\n                minValue: '@',\r\n                indicatorOriginX: '@',\r\n                indicatorOriginY: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('analogGauge', AnalogGaugeDirective);\r\n}(window.d3));\n(function(d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function FourteenSegmentDisplayDirective() {\r\n        function link(scope, element, attrs) {\r\n            var digits = scope.digits,\r\n                background = (attrs.showBackground === \"true\"),\r\n                iterator;\r\n            scope.background = '~';\r\n            scope.opacity = 0.0;\r\n            for (iterator = 0; iterator < digits - 1; iterator += 1) {\r\n                scope.background += '.~';\r\n            }\r\n            if (background) {\r\n                scope.opacity = 0.1;\r\n            }\r\n            scope.$watch('value', function() {\r\n                var width = d3.select(element[0]).select('text#background').node().getBBox().width;\r\n                d3.select(element[0]).select('text#value').attr('transform','translate('+width+',0)');\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'C',\r\n            template: '<text id=\"background\" text-anchor=\"end\" dominant-baseline=\"text-before-edge\" fill=\"black\" opacity=\"{{opacity}}\">{{background}}</text><text id=\"value\" dominant-baseline=\"text-before-edge\" writing-mode=\"lr\">{{value}}</text>',\r\n            scope: {\r\n                digits: '@',\r\n                value: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('fourteenSegmentDisplay', FourteenSegmentDisplayDirective);\r\n}(window.d3));\n(function (d3) {\r\n    'use strict';\r\n    /*global angular, console*/\r\n\r\n    function SevenSegmentDisplayDirective() {\r\n        function link(scope, element, attrs) {\r\n            var digits = scope.digits,\r\n                background = (attrs.showBackground === \"true\"),\r\n                iterator;\r\n            scope.background = '8';\r\n            scope.opacity = 0.0;\r\n            for (iterator = 0; iterator < digits - 1; iterator += 1) {\r\n                scope.background += '.8';\r\n            }\r\n            if (background) {\r\n                scope.opacity = 0.1;\r\n            }\r\n            scope.$watch('value', function() {\r\n                var width = d3.select(element[0]).select('text#background').node().getBBox().width;\r\n                d3.select(element[0]).select('text#value').attr('transform','translate('+width+',0)');\r\n            }, true);\r\n        }\r\n\r\n        return {\r\n            link: link,\r\n            restrict: 'C',\r\n            template: '<text id=\"background\" text-anchor=\"end\" dominant-baseline=\"text-before-edge\" fill=\"black\" opacity=\"{{opacity}}\">{{background}}</text><text id=\"value\" dominant-baseline=\"text-before-edge\" writing-mode=\"lr\">{{value}}</text>',\r\n            scope: {\r\n                digits: '@',\r\n                value: '@'\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('dashboard-ui.directives')\r\n        .directive('sevenSegmentDisplay', SevenSegmentDisplayDirective);\r\n}(window.d3));"],"sourceRoot":"/source/"}